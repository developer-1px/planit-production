import"../chunks/NZTpNUN0.js";import{_ as ae,b as Y,g as e,s as n,j as l,f as F,a1 as p,a5 as ue,a2 as o,a4 as se,a as C,a0 as re,Y as fe,aJ as A,a3 as k,aK as me}from"../chunks/BukKJz2t.js";import{d as he,e as ye,s as U}from"../chunks/CF-MGArY.js";import{i as Z}from"../chunks/BU2Axe3Q.js";import{e as ee,i as te}from"../chunks/Bifmr8Il.js";import{s as $}from"../chunks/DZAGcVNY.js";import{s as X}from"../chunks/D7LZ41_M.js";import{T as ge,V as we}from"../chunks/D4UgOZ7U.js";import{b as be}from"../chunks/BEnazXDl.js";import{r as ke}from"../chunks/Deh_T7Pf.js";import{P as Pe}from"../chunks/KyN7jw-T.js";/* empty css                */var Ve=F('<div><div class="video-background svelte-bkogwv"></div> <div class="layer bg(#000.0) pack"></div></div>');function qe(P,d){ae(d,!0);const u=ke(d,["$$slots","$$events","$$legacy"]),{video:s,isPlaying:D,visible:f,onPlay:_,onEnded:r,onTimeupdate:i}=u;let m=n(null),a=n(null),V=n(!1);Y(()=>{!e(m)||e(a)||(l(a,new Pe(e(m),{id:s.video_id,background:!0,autoplay:!1,autopause:!0,loop:!0}),!0),e(a).on("play",()=>{_&&_()}),e(a).on("loaded",async()=>{l(V,!0),s.video_start_at&&await e(a).setCurrentTime(parseFloat(s.video_start_at))}),e(a).on("timeupdate",c=>{i&&i({detail:{percent:c.percent,seconds:c.seconds}}),s.video_end_at&&c.seconds>=parseFloat(s.video_end_at)&&(e(a).setCurrentTime(parseFloat(s.video_start_at||"0")),r&&r())}),e(a).on("ended",async()=>{await e(a).setCurrentTime(parseFloat(s.video_start_at||"0")),r&&r()}))}),Y(()=>{!e(a)||!e(V)||(d.state==="play"?e(a).play():d.state==="pause"&&e(a).pause().then(()=>{s.video_start_at&&e(a).setCurrentTime(parseFloat(s.video_start_at))}))});var h=Ve();let q;var y=p(h);be(y,c=>l(m,c),()=>e(m)),ue(2),o(h),se(c=>q=$(h,1,"layer video-background-wrapper svelte-bkogwv",null,q,c),[()=>({hidden:!f})]),C(P,h),re()}var Te=(P,d,u)=>d(e(u)),xe=F('<div indicator="" class="svelte-1qhr8fw"></div>'),Ee=F('<section banner-wrap="" class="svelte-1qhr8fw"><section banner-desc="" class="svelte-1qhr8fw"><div wrap="" animation-desc="" class="svelte-1qhr8fw"><h1> </h1> <h2> </h2></div></section> <section banner-indicators="" class="svelte-1qhr8fw"><div wrap="" class="svelte-1qhr8fw"></div></section> <section class="track svelte-1qhr8fw"><div class="progress svelte-1qhr8fw"></div></section></section>'),Ie=F('<section class="video-background-list svelte-1qhr8fw" full-screen-banner=""><!> <!></section> <!>',1);function Be(P,d){ae(d,!0);let u=n(!1),s=n(0),D=n(0);const f=new ge(t=>{l(u,t.doAnimation,!0),l(s,t.delay1,!0),l(D,t.delay2,!0)});let _=n(0);const r=d.data.mainVideos,i=A(()=>r[e(_)%r.length]);Y(()=>{e(_)&&f.stop()});const m=t=>{l(_,t,!0)},a=()=>{me(_),f.stop()},V=()=>{f.start()},h=()=>{a(),f.stop()};let q=n(!0),y=n(!1);const c=t=>{l(y,!0)};let j=n(0);const ie=t=>{l(j,t.detail.percent*100)},oe=t=>v=>{t.stopPropagation(),v()};var B=Ie(),T=fe(B);T.__click=[Te,c,i];var H=p(T);ee(H,17,()=>r,te,(t,v)=>{const g=A(()=>e(v)===e(i)?"play":"pause"),x=A(()=>e(v)===e(i));qe(t,{get video(){return e(v)},get state(){return e(g)},get visible(){return e(x)},get isPlaying(){return e(q)},onPlay:V,onEnded:h,onTimeupdate:ie})});var ne=k(H,2);{var le=t=>{var v=Ee(),g=p(v),x=p(g),w=p(x);let J,K;var ve=p(w,!0);o(w);var E=k(w,2);let L,R;var pe=p(E,!0);o(E),o(x),o(g);var N=k(g,2),W=p(N);ee(W,21,()=>r,te,(O,Q,I)=>{var b=xe(),M=A(()=>oe(()=>m(I)));b.__click=function(...S){e(M)?.apply(this,S)},ye("",b,function(...S){(I===e(_)?!0:null)?.apply(this,S)}),C(O,b)}),o(W),o(N);var z=k(N,2),_e=p(z);let G;o(z),o(v),se((O,Q,I,b,M)=>{J=$(w,1,"svelte-1qhr8fw",null,J,O),K=X(w,"",K,Q),U(ve,e(i).name),L=$(E,1,"svelte-1qhr8fw",null,L,I),R=X(E,"",R,b),U(pe,e(i).desc),G=X(_e,"",G,M)},[()=>({animation:e(u)}),()=>({"animation-delay":`${e(s)??""}ms`}),()=>({animation:e(u)}),()=>({"animation-delay":`${e(D)??""}ms`}),()=>({width:`${e(j)??""}%`})]),C(t,v)};Z(ne,t=>{r.length>0&&t(le)})}o(T);var de=k(T,2);{var ce=t=>{we(t,{get video(){return e(i)},onClose:()=>l(y,!1)})};Z(de,t=>{e(y)&&e(i)&&t(ce)})}C(P,B),re()}he(["click"]);export{Be as component};
